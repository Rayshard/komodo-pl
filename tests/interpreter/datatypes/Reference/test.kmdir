(program MyProgram
    (entry MyModule Main)
    (module MyModule
        (function Main (params) (returns)
            (locals
                ((Ref I64) myRef1)
                ((Ref I64) myRef2)
            )

            (LoadLocal myRef1)
            (LoadConstant null)
            (Assert EQ)

            (Allocate I64)
            (StoreLocal myRef1)
            (LoadLocal myRef1)
            (LoadConstant null)
            (Assert NEQ)
            (LoadLocal myRef1)
            (LoadMem)
            (LoadConstant (I64 0))
            (Assert EQ)

            (LoadConstant (I64 123))
            (LoadLocal myRef1)
            (StoreMem)
            (LoadLocal myRef1)
            (LoadMem)
            (LoadConstant (I64 123))
            (Assert EQ)

            (LoadLocal myRef1)
            (StoreLocal myRef2)
            (LoadConstant (I64 456))
            (LoadLocal myRef1)
            (StoreMem)
            (LoadLocal myRef2)
            (LoadMem)
            (LoadConstant (I64 456))
            (Assert EQ)
            
            (LoadConstant (I64 0))
            (Exit)
        )
    )
)