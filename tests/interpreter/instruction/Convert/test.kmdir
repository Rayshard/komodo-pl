(program MyProgram
    (entry MyModule Main)
    (module MyModule
        (function Main (params) (returns)
            (Call MyModule I8Convert)
            (Call MyModule UI8Convert)
            (Call MyModule I16Convert)
            (Call MyModule UI16Convert)
            (Call MyModule I32Convert)
            (Call MyModule UI32Convert)
            (Call MyModule I64Convert)
            (Call MyModule UI64Convert)
            (Call MyModule F32Convert)
            (Call MyModule F64Convert)
            (Call MyModule BoolConvert)
            (Call MyModule ROPtrConvert)
            (Call MyModule RWPtrConvert)
            (Call MyModule RefConvert)
            (Call MyModule ArrayConvert)
            (Call MyModule FuncConvert)

            (Exit 0)
        )
        (function I8Convert (params) (returns)
            (Return)
        )
        (function UI8Convert (params) (returns)
            (Return)
        )
        (function I16Convert (params) (returns)
            (Return)
        )
        (function UI16Convert (params) (returns)
            (Return)
        )
        (function I32Convert (params) (returns)
            (Return)
        )
        (function UI32Convert (params) (returns)
            (Return)
        )
        (function I64Convert (params) (returns)
            (LoadConstant (I64 100))
            (Convert I8)
            (LoadConstant (I8 100))
            (Assert EQ)
 
            (LoadConstant (I64 128))
            (Convert I8)
            (LoadConstant (I8 -128))
            (Assert EQ)
 
            (LoadConstant (I64 -1))
            (Convert I8)
            (LoadConstant (I8 -1))
            (Assert EQ)

            (LoadConstant (I64 100))
            (Convert UI8)
            (LoadConstant (UI8 100))
            (Assert EQ)
 
            (LoadConstant (I64 256))
            (Convert UI8)
            (LoadConstant (UI8 0))
            (Assert EQ)

            (LoadConstant (I64 257))
            (Convert UI8)
            (LoadConstant (UI8 1))
            (Assert EQ)

            (LoadConstant (I64 -1))
            (Convert UI8)
            (LoadConstant (UI8 255))
            (Assert EQ)

            (Return)
        )
        (function UI64Convert (params) (returns)
            (Return)
        )
        (function F32Convert (params) (returns)
            (Return)
        )
        (function F64Convert (params) (returns)
            (Return)
        )
        (function BoolConvert (params) (returns)
            (Return)
        )
        (function ROPtrConvert (params) (returns)
            (Return)
        )
        (function RWPtrConvert (params) (returns)
            (LoadConstant (sizeof I64))
            (Allocate)
            (Convert ROPtr)
            (LoadConstant null)
            (Assert NEQ)

            (Return)
        )
        (function RefConvert (params) (returns)
            (Allocate I64)
            (Duplicate)

            (LoadConstant (I64 123))
            (Rotate2)
            (StoreMem)

            (Convert ROPtr)

            (LoadMem I64)
            (LoadConstant (I64 123))
            (Assert EQ)

            (Return)
        )
        (function ArrayConvert (params) (returns)
            (Return)
        )
        (function FuncConvert (params) (returns)
            (Return)
        )
    )
)
